# Лабораторная N 3 client 
Калькулятор
Задание: разработать приложение-сервер «Удаленный калькулятор»,
позволяющее по запросу выполнять математические операции, и удаленный клиент для сервера. 

 Клиентское приложение должно реализовывать следующие функции: 
1) Установление соединения с сервером
2) Посылка операции с аргументами на вычисление
3) Получение результата вычислений «быстрых» операций
4) Получения результата вычислений «долгих» операций
5) Разрыв соединения
6) Обработка ситуации отключения клиента сервером

При запуске клиента, устанавливается соединение с запущенным сервером. 
Далее клиент парсит введенные пользователем команды
Анализирует их - длинная операция вычисления требуется или короткая, получает аргументы, проверяет их на корректность, 
а после этого уже отправляет запрос-пакет на сервер.

После получения ответа от сервера, пакет распаковывается и анализируются коды ответа и тип операции, и в зависимости от этого, клиент выводит нужную пользователю информацию


## Инструкция по использованию.
сначала запускается сервер, потом запускается клиент. 

Запускается без сборки командой
... путь\calc_server.py   - сервер
... путь\client.py   - клиент. 

При запуске клиента, нужно указать IP, и порт на котором работает сервер. 

Вычисления:

Короткие операции:

- сложение  arg1+arg2
- вычитание arg1-arg2
- умножение  arg1*arg2
- деление    arg1/arg2

При делении на ноль, будет выведено сообщение, которое скажет пользователю что он делит на ноль, и сообщение не отправится. 

Длинные операции

- факториал  arg1!
- корень  sqrt(arg1)

При факториале, аргумент должен быть целым и положительным, иначе будет выведено сообщение об ошибке и вычисления не произведутся.
При корне, аргумент должен быть положительным.


## Описание протокола
Формат сообщений от клиента к серверу:

1 байт         | 1 байт         | 4 байта | 4 байта
-------------- | -------------- | ------- | -------
тип операции   | код операции   | 1 арг.  | 2 арг.

тип 0 - короткая
тип 1 - длинная


код 0 - сложение
код 1 - вычитание
код 2 - умножение
код 3 - деление


От сервера к клиенту есть два возможных типа сообщений - ответы на быстрые и на долгие операции:

# Ответ на быстрые операции

1 байт         | 1 байт         | 8 байта    
-------------- | -------------- | ---------- 
тип операции   | код ответа     | результат  

тип - короткая или длинная, соответственно 0 или 1
код - успешно или нет

# Ответ на долгие операции
1 байт         | 1 байт         | 1 байт       | 4 байта   | 8 байта    
-------------- | -------------- | ------------ |---------- | ----------
тип операции   | код ответа     | код операции | аргумент  | результат  

 В ответе на долгие операции код операции и аргумент (полученный от клиента) нужны, чтобы клиент понимал, на какой запрос пришёл ответ, так как вычисления могут занять какое-то время.
Код ответа служит для определения успешности операции или причины неуспеха.
0 - успех
1 - неполадки с аргументом
2 - превышение таймаута вычислений на сервере. 

Для удобства, при выводе результата длинной операции - пишется какая это операция и какой аргумент.

Выход - по команде exit
